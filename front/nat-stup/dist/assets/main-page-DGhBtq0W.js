import{d as O,m as j,r as h,u as b,o as p,c as T,w as l,a as f,b as r,e as _,f as x,F as $,g as y,t as C,M as F,h as S,i as s,j as w,k as P,l as V,_ as B}from"./index-DvPPgNqe.js";const N="/assets/title-1-BHOp_NPA.jpg",R="/assets/title-2-BNa2XyO0.jpg",z="/assets/title-3-ix3P3688.jpg",A=O({__name:"person-form",props:j({settingPersonOption:{}},{direction:{},directionModifiers:{},applicantType:{},applicantTypeModifiers:{},regionOfProvision:{},regionOfProvisionModifiers:{},specificTags:{},specificTagsModifiers:{}}),emits:["update:direction","update:applicantType","update:regionOfProvision","update:specificTags"],setup(c){const m=h(),n=b(c,"direction"),a=b(c,"applicantType"),d=b(c,"regionOfProvision"),v=b(c,"specificTags");return(u,o)=>{const e=f("a-select-option"),g=f("a-select"),t=f("a-form-item"),k=f("a-textarea"),U=f("a-form");return p(),T(U,{layout:"horizontal",ref_key:"formRef",ref:m,style:{width:"420px"}},{default:l(()=>[r(t,{label:"Направление бизнеса"},{default:l(()=>[r(g,{value:n.value,"onUpdate:value":o[0]||(o[0]=i=>n.value=i)},{default:l(()=>[(p(!0),_($,null,x(u.settingPersonOption.directions,i=>(p(),T(e,{key:i.id,value:i.name},{default:l(()=>[y(C(i.name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1}),r(t,{label:"Тип заявителя"},{default:l(()=>[r(g,{value:a.value,"onUpdate:value":o[1]||(o[1]=i=>a.value=i)},{default:l(()=>[(p(!0),_($,null,x(u.settingPersonOption.applicant_types,i=>(p(),T(e,{key:i.id,value:i.name},{default:l(()=>[y(C(i.name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1}),r(t,{label:"Регион предоставления"},{default:l(()=>[r(g,{value:d.value,"onUpdate:value":o[2]||(o[2]=i=>d.value=i)},{default:l(()=>[(p(!0),_($,null,x(u.settingPersonOption.venues,i=>(p(),T(e,{key:i.id,value:i.name},{default:l(()=>[y(C(i.name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1}),r(t,{label:"Специфичные теги"},{default:l(()=>[r(k,{value:v.value,"onUpdate:value":o[3]||(o[3]=i=>v.value=i),rows:4},null,8,["value"])]),_:1})]),_:1},512)}}}),M=[{title:"Направление бизнеса",dataIndex:"title",key:"title"},{title:"Описание",dataIndex:"description",key:"description",width:300},{title:"Регион",dataIndex:"region",key:"region"},{title:"Сайт",dataIndex:"site",key:"site",width:85},{title:"Подробно",dataIndex:"uuid",key:"uuid",width:105}],I=O({__name:"modal-info",props:{id:{}},setup(c){h(!1);const m=async n=>{console.log(n);let a;try{a=await(await fetch(`http://81.94.156.218/api/get_filters/${n}`)).json()}catch{}finally{const d=a??"Ошибка запроса";F.info({title:"Расширенная информация",content:S("div",{},[S("p",d)]),onOk(){},closable:!0,maskClosable:!0,mask:!0,width:800})}};return(n,a)=>{const d=f("a-button");return p(),_("div",null,[r(d,{onClick:a[0]||(a[0]=v=>m(n.id))},{default:l(()=>a[1]||(a[1]=[y("Инфо")])),_:1})])}}}),D={class:"search-form"},E={id:"search-value"},H={class:"finding-search"},L=["href"],X=O({__name:"info-search-form",props:{findSearchValue:{}},emits:["search"],setup(c,{emit:m}){const n=m,a=h("");function d(){return n("search",a.value)}return(v,u)=>{const o=f("a-input"),e=f("a-button"),g=f("a-table");return p(),_("div",D,[u[3]||(u[3]=s("h3",null," Поиск по интересующим тезисам ",-1)),s("div",E,[r(o,{class:"mb-2",value:a.value,"onUpdate:value":u[0]||(u[0]=t=>a.value=t)},null,8,["value"]),r(e,{class:"mb-2",type:"primary",onClick:d},{default:l(()=>u[1]||(u[1]=[y(" Поиск ")])),_:1})]),s("div",H,[u[2]||(u[2]=s("h4",null,"Найденные результаты",-1)),r(g,{dataSource:v.findSearchValue,columns:w(M),"row-key":t=>t.key,scroll:{x:800,y:270}},{bodyCell:l(({column:t,record:k})=>[t.key==="site"?(p(),_("a",{key:0,href:k.site,target:"_blank"}," Ссылка ",8,L)):P("",!0),t.key==="uuid"?(p(),T(w(I),{key:1,id:k.uuid},null,8,["id"])):P("",!0)]),_:1},8,["dataSource","columns","row-key"])])])}}});function q(c){return c===1?{direction:"СТРОИТЕЛЬСТВО",applicantType:"Индивидуальный предприниматель",regionOfProvision:"Краснодарский край",specificTags:"БЕТОН"}:c===2?{direction:"ОБРАЗОВАНИЕ",applicantType:"Физическое лицо",regionOfProvision:"Москва",specificTags:"УСЛУГИ"}:{direction:"ОБЕСПЕЧЕНИЕ ЭЛЕКТРИЧЕСКОЙ ЭНЕРГИЕЙ, ГАЗОМ И ПАРОМ; КОНДИЦИОНИРОВАНИЕ ВОЗДУХА",applicantType:"Юридическое лицо",regionOfProvision:"Курганская область",specificTags:"РЕПУТАЦИЯ"}}const G={id:"main-page"},J={id:"user-window"},K={id:"users"},Q={id:"info-form"},W={class:"search-form"},Y=["href"],Z=O({__name:"main-page",setup(c){const m=h({applicant_types:[],directions:[],venues:[]}),n=h({direction:"СТРОИТЕЛЬСТВО",applicantType:"Индивидуальный предприниматель",regionOfProvision:"Краснодарский край",specificTags:"БЕТОН"}),a=h([{uuid:1,site:"https://joyreactor.cc/new",title:"Поддержка пожилого бизнеса",description:"Будем подерживать стариков-ветеранов, желающих открыть свой бизнес завтра утром"},{uuid:2,site:"https://habr.com/ru/feed/",title:"Поддержка краснодарского бизнеса",descreiption:"Будем поддерживать ветеранов СВО, которые решили открыть свой бизнес в Краснодаре",region:"Краснодарский край"}]),d=h([]);function v(o){n.value=q(o)}async function u(o){console.log(o);const g=await(await fetch(`http://81.94.156.218/api/search${o}`)).json();d.value=g}return V(async()=>{try{const e=await(await fetch("http://81.94.156.218/api/get_filters")).json();m.value=e}catch{}}),(o,e)=>{const g=f("a-table");return p(),_("div",G,[s("div",J,[s("div",K,[s("div",{class:"user-info",onClick:e[0]||(e[0]=t=>v(1))},e[7]||(e[7]=[s("img",{alt:"Пользователь 1",class:"logo",src:N,width:"100",height:"100"},null,-1),y(" Юзер-1 ")])),s("div",{class:"user-info",onClick:e[1]||(e[1]=t=>v(2))},e[8]||(e[8]=[s("img",{alt:"Пользователь 2",class:"logo",src:R,width:"100",height:"100"},null,-1),y(" Юзер-2 ")])),s("div",{class:"user-info",onClick:e[2]||(e[2]=t=>v(3))},e[9]||(e[9]=[s("img",{alt:"Пользователь 3",class:"logo",src:z,width:"100",height:"100"},null,-1),y(" Юзер-3 ")]))]),e[10]||(e[10]=s("h3",null,"Юзер",-1)),r(w(A),{direction:n.value.direction,"onUpdate:direction":e[3]||(e[3]=t=>n.value.direction=t),"applicant-type":n.value.applicantType,"onUpdate:applicantType":e[4]||(e[4]=t=>n.value.applicantType=t),"region-of-provision":n.value.regionOfProvision,"onUpdate:regionOfProvision":e[5]||(e[5]=t=>n.value.regionOfProvision=t),"specific-tags":n.value.specificTags,"onUpdate:specificTags":e[6]||(e[6]=t=>n.value.specificTags=t),"setting-person-option":m.value},null,8,["direction","applicant-type","region-of-provision","specific-tags","setting-person-option"])]),e[12]||(e[12]=s("div",{class:"stick-vertical"},null,-1)),s("div",Q,[r(w(X),{"find-search-value":d.value,onSearch:u},null,8,["find-search-value"]),s("div",W,[e[11]||(e[11]=s("h3",null," Приходящая информация формируемая из данных о пользователе ",-1)),r(g,{dataSource:a.value,columns:w(M),"row-key":t=>t.key,scroll:{x:800,y:300}},{bodyCell:l(({column:t,record:k})=>[t.key==="site"?(p(),_("a",{key:0,href:k.site,target:"_blank"}," Ссылка ",8,Y)):P("",!0),t.key==="uuid"?(p(),T(w(I),{key:1,id:k.uuid},null,8,["id"])):P("",!0)]),_:1},8,["dataSource","columns","row-key"])])])])}}}),te=B(Z,[["__scopeId","data-v-53b98963"]]);export{te as default};
