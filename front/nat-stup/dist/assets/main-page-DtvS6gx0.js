import{d as O,m as j,r as h,u as x,o as d,c as b,w as l,a as v,b as r,e as y,f as C,F as S,g as _,t as $,M as V,h as M,i as a,j as w,k as P,l as F,_ as B}from"./index-CdinkUrC.js";const N="/assets/title-1-BHOp_NPA.jpg",R="/assets/title-2-BNa2XyO0.jpg",z="/assets/title-3-ix3P3688.jpg",A=O({__name:"person-form",props:j({settingPersonOption:{}},{direction:{},directionModifiers:{},applicantType:{},applicantTypeModifiers:{},regionOfProvision:{},regionOfProvisionModifiers:{},specificTags:{},specificTagsModifiers:{}}),emits:["update:direction","update:applicantType","update:regionOfProvision","update:specificTags"],setup(g){const k=h(),n=x(g,"direction"),i=x(g,"applicantType"),p=x(g,"regionOfProvision"),m=x(g,"specificTags");return(s,c)=>{const f=v("a-select-option"),e=v("a-select"),u=v("a-form-item"),T=v("a-textarea"),o=v("a-form");return d(),b(o,{layout:"horizontal",ref_key:"formRef",ref:k,style:{width:"420px"}},{default:l(()=>[r(u,{label:"Направление бизнеса"},{default:l(()=>[r(e,{value:n.value,"onUpdate:value":c[0]||(c[0]=t=>n.value=t)},{default:l(()=>[(d(!0),y(S,null,C(s.settingPersonOption.directions,t=>(d(),b(f,{key:t.id,value:t.name},{default:l(()=>[_($(t.name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1}),r(u,{label:"Тип заявителя"},{default:l(()=>[r(e,{value:i.value,"onUpdate:value":c[1]||(c[1]=t=>i.value=t)},{default:l(()=>[(d(!0),y(S,null,C(s.settingPersonOption.applicant_types,t=>(d(),b(f,{key:t.id,value:t.name},{default:l(()=>[_($(t.name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1}),r(u,{label:"Регион предоставления"},{default:l(()=>[r(e,{value:p.value,"onUpdate:value":c[2]||(c[2]=t=>p.value=t)},{default:l(()=>[(d(!0),y(S,null,C(s.settingPersonOption.venues,t=>(d(),b(f,{key:t.id,value:t.name},{default:l(()=>[_($(t.name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1}),r(u,{label:"Специфичные теги"},{default:l(()=>[r(T,{value:m.value,"onUpdate:value":c[3]||(c[3]=t=>m.value=t),rows:4},null,8,["value"])]),_:1})]),_:1},512)}}}),U=[{title:"Направление бизнеса",dataIndex:"title",key:"title"},{title:"Описание",dataIndex:"description",key:"description",width:300},{title:"Регион",dataIndex:"region",key:"region"},{title:"Сайт",dataIndex:"site",key:"site",width:85},{title:"Подробно",dataIndex:"uuid",key:"uuid",width:105}],I=O({__name:"modal-info",props:{id:{}},setup(g){h(!1);const k=async n=>{console.log(n);let i;try{i=await(await fetch(`http://81.94.156.218/api/get_neuron_text?uuid=${n}`)).json()}catch{}finally{const p=i??"Ошибка запроса";V.info({title:"Расширенная информация",content:M("div",{},[M("p",p)]),onOk(){},closable:!0,maskClosable:!0,mask:!0,width:800})}};return(n,i)=>{const p=v("a-button");return d(),y("div",null,[r(p,{onClick:i[0]||(i[0]=m=>k(n.id))},{default:l(()=>i[1]||(i[1]=[_("Инфо")])),_:1})])}}}),D={class:"search-form"},E={id:"search-value"},H={class:"finding-search"},L=["href"],X=O({__name:"info-search-form",props:{findSearchValue:{}},emits:["search"],setup(g,{emit:k}){const n=k,i=h("");function p(){return n("search",i.value)}return(m,s)=>{const c=v("a-input"),f=v("a-button"),e=v("a-table");return d(),y("div",D,[s[3]||(s[3]=a("h3",null," Поиск по интересующим тезисам ",-1)),a("div",E,[r(c,{class:"mb-2",value:i.value,"onUpdate:value":s[0]||(s[0]=u=>i.value=u)},null,8,["value"]),r(f,{class:"mb-2",type:"primary",onClick:p},{default:l(()=>s[1]||(s[1]=[_(" Поиск ")])),_:1})]),a("div",H,[s[2]||(s[2]=a("h4",null,"Найденные результаты",-1)),r(e,{dataSource:m.findSearchValue,columns:w(U),"row-key":u=>u.key,scroll:{x:800,y:270}},{bodyCell:l(({column:u,record:T})=>[u.key==="site"?(d(),y("a",{key:0,href:T.site,target:"_blank"}," Ссылка ",8,L)):P("",!0),u.key==="uuid"?(d(),b(w(I),{key:1,id:T.uuid},null,8,["id"])):P("",!0)]),_:1},8,["dataSource","columns","row-key"])])])}}});function q(g){return g===1?{direction:"СТРОИТЕЛЬСТВО",applicantType:"Индивидуальный предприниматель",regionOfProvision:"Краснодарский край",specificTags:"БЕТОН"}:g===2?{direction:"ОБРАЗОВАНИЕ",applicantType:"Физическое лицо",regionOfProvision:"Москва",specificTags:"УСЛУГИ"}:{direction:"ОБЕСПЕЧЕНИЕ ЭЛЕКТРИЧЕСКОЙ ЭНЕРГИЕЙ, ГАЗОМ И ПАРОМ; КОНДИЦИОНИРОВАНИЕ ВОЗДУХА",applicantType:"Юридическое лицо",regionOfProvision:"Курганская область",specificTags:"РЕПУТАЦИЯ"}}const G={id:"main-page"},J={id:"user-window"},K={key:0,id:"users"},Q={id:"info-form"},W={class:"search-form"},Y=["href"],Z=O({__name:"main-page",setup(g){const k=h({applicant_types:[],directions:[],venues:[]}),n=h({direction:"СТРОИТЕЛЬСТВО",applicantType:"Индивидуальный предприниматель",regionOfProvision:"Краснодарский край",specificTags:"БЕТОН"}),i=h([{uuid:1,site:"https://joyreactor.cc/new",title:"Поддержка пожилого бизнеса",description:"Будем подерживать стариков-ветеранов, желающих открыть свой бизнес завтра утром"},{uuid:2,site:"https://habr.com/ru/feed/",title:"Поддержка краснодарского бизнеса",descreiption:"Будем поддерживать ветеранов СВО, которые решили открыть свой бизнес в Краснодаре",region:"Краснодарский край"}]),p=h([]),m=h(!0);function s(f){n.value=q(f)}async function c(f){console.log(f);const u=await(await fetch("http://81.94.156.218/api/search")).json();p.value=u}return F(async()=>{try{const e=await(await fetch("http://81.94.156.218/api/get_filters")).json();k.value=e}catch{}}),(f,e)=>{const u=v("a-checkbox"),T=v("a-table");return d(),y("div",G,[a("div",J,[r(u,{checked:m.value,"onUpdate:checked":e[0]||(e[0]=o=>m.value=o)},{default:l(()=>e[8]||(e[8]=[_("Мок пользователи")])),_:1},8,["checked"]),m.value?(d(),y("div",K,[a("div",{class:"user-info",onClick:e[1]||(e[1]=o=>s(1))},e[9]||(e[9]=[a("img",{alt:"Пользователь 1",class:"logo",src:N,width:"100",height:"100"},null,-1),_(" Юзер-1 ")])),a("div",{class:"user-info",onClick:e[2]||(e[2]=o=>s(2))},e[10]||(e[10]=[a("img",{alt:"Пользователь 2",class:"logo",src:R,width:"100",height:"100"},null,-1),_(" Юзер-2 ")])),a("div",{class:"user-info",onClick:e[3]||(e[3]=o=>s(3))},e[11]||(e[11]=[a("img",{alt:"Пользователь 3",class:"logo",src:z,width:"100",height:"100"},null,-1),_(" Юзер-3 ")]))])):P("",!0),e[12]||(e[12]=a("h3",null,"Юзер",-1)),r(w(A),{direction:n.value.direction,"onUpdate:direction":e[4]||(e[4]=o=>n.value.direction=o),"applicant-type":n.value.applicantType,"onUpdate:applicantType":e[5]||(e[5]=o=>n.value.applicantType=o),"region-of-provision":n.value.regionOfProvision,"onUpdate:regionOfProvision":e[6]||(e[6]=o=>n.value.regionOfProvision=o),"specific-tags":n.value.specificTags,"onUpdate:specificTags":e[7]||(e[7]=o=>n.value.specificTags=o),"setting-person-option":k.value},null,8,["direction","applicant-type","region-of-provision","specific-tags","setting-person-option"])]),e[14]||(e[14]=a("div",{class:"stick-vertical"},null,-1)),a("div",Q,[r(w(X),{"find-search-value":p.value,onSearch:c},null,8,["find-search-value"]),a("div",W,[e[13]||(e[13]=a("h3",null," Приходящая информация формируемая из данных о пользователе ",-1)),r(T,{dataSource:i.value,columns:w(U),"row-key":o=>o.key,scroll:{x:800,y:300}},{bodyCell:l(({column:o,record:t})=>[o.key==="site"?(d(),y("a",{key:0,href:t.site,target:"_blank"}," Ссылка ",8,Y)):P("",!0),o.key==="uuid"?(d(),b(w(I),{key:1,id:t.uuid},null,8,["id"])):P("",!0)]),_:1},8,["dataSource","columns","row-key"])])])])}}}),te=B(Z,[["__scopeId","data-v-812935af"]]);export{te as default};
