import{d as O,m as j,r as h,u as x,o as u,c as T,w as l,a as v,b as r,e as y,f as $,F as C,g as _,t as S,M as F,h as M,i as a,j as w,k as P,l as V,_ as B}from"./index-BgtYrC7n.js";const N="/assets/title-1-BHOp_NPA.jpg",R="/assets/title-2-BNa2XyO0.jpg",q="/assets/title-3-ix3P3688.jpg",z=O({__name:"person-form",props:j({settingPersonOption:{}},{direction:{},directionModifiers:{},applicantType:{},applicantTypeModifiers:{},regionOfProvision:{},regionOfProvisionModifiers:{},specificTags:{},specificTagsModifiers:{}}),emits:["update:direction","update:applicantType","update:regionOfProvision","update:specificTags"],setup(g){const k=h(),n=x(g,"direction"),i=x(g,"applicantType"),c=x(g,"regionOfProvision"),m=x(g,"specificTags");return(s,f)=>{const p=v("a-select-option"),e=v("a-select"),d=v("a-form-item"),b=v("a-textarea"),o=v("a-form");return u(),T(o,{layout:"horizontal",ref_key:"formRef",ref:k,style:{width:"420px"}},{default:l(()=>[r(d,{label:"Направление бизнеса"},{default:l(()=>[r(e,{value:n.value,"onUpdate:value":f[0]||(f[0]=t=>n.value=t)},{default:l(()=>[(u(!0),y(C,null,$(s.settingPersonOption.directions,t=>(u(),T(p,{key:t.id,value:t.name},{default:l(()=>[_(S(t.name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1}),r(d,{label:"Тип заявителя"},{default:l(()=>[r(e,{value:i.value,"onUpdate:value":f[1]||(f[1]=t=>i.value=t)},{default:l(()=>[(u(!0),y(C,null,$(s.settingPersonOption.applicant_types,t=>(u(),T(p,{key:t.id,value:t.name},{default:l(()=>[_(S(t.name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1}),r(d,{label:"Регион предоставления"},{default:l(()=>[r(e,{value:c.value,"onUpdate:value":f[2]||(f[2]=t=>c.value=t)},{default:l(()=>[(u(!0),y(C,null,$(s.settingPersonOption.venues,t=>(u(),T(p,{key:t.id,value:t.name},{default:l(()=>[_(S(t.name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1}),r(d,{label:"Специфичные теги"},{default:l(()=>[r(b,{value:m.value,"onUpdate:value":f[3]||(f[3]=t=>m.value=t),rows:4},null,8,["value"])]),_:1})]),_:1},512)}}}),U=[{title:"Направление бизнеса",dataIndex:"title",key:"title"},{title:"Описание",dataIndex:"description",key:"description",width:300},{title:"Регион",dataIndex:"region",key:"region"},{title:"Сайт",dataIndex:"url",key:"url",width:85},{title:"Подробно",dataIndex:"uuid",key:"uuid",width:105}],I=O({__name:"modal-info",props:{id:{}},setup(g){h(!1);const k=async n=>{console.log(n);let i;try{i=await(await fetch(`http://81.94.156.218/api/get_neuron_text?uuid=${n}`)).json()}catch{}finally{const c=i??"Ошибка запроса";F.info({title:"Расширенная информация",content:M("div",{},[M("p",c)]),onOk(){},closable:!0,maskClosable:!0,mask:!0,width:800})}};return(n,i)=>{const c=v("a-button");return u(),y("div",null,[r(c,{onClick:i[0]||(i[0]=m=>k(n.id))},{default:l(()=>i[1]||(i[1]=[_("Инфо")])),_:1})])}}}),A={class:"search-form"},D={id:"search-value"},E={class:"finding-search"},H=["href"],L=O({__name:"info-search-form",props:{findSearchValue:{}},emits:["search"],setup(g,{emit:k}){const n=k,i=h("");function c(){return n("search",i.value)}return(m,s)=>{const f=v("a-input"),p=v("a-button"),e=v("a-table");return u(),y("div",A,[s[3]||(s[3]=a("h3",null," Поиск по интересующим тезисам ",-1)),a("div",D,[r(f,{class:"mb-2",value:i.value,"onUpdate:value":s[0]||(s[0]=d=>i.value=d)},null,8,["value"]),r(p,{class:"mb-2",type:"primary",onClick:c},{default:l(()=>s[1]||(s[1]=[_(" Поиск ")])),_:1})]),a("div",E,[s[2]||(s[2]=a("h4",null,"Найденные результаты",-1)),r(e,{dataSource:m.findSearchValue,columns:w(U),"row-key":d=>d.key,scroll:{x:800,y:270}},{bodyCell:l(({column:d,record:b})=>[d.key==="url"?(u(),y("a",{key:0,href:b.url,target:"_blank"}," Ссылка ",8,H)):P("",!0),d.key==="uuid"?(u(),T(w(I),{key:1,id:b.uuid},null,8,["id"])):P("",!0)]),_:1},8,["dataSource","columns","row-key"])])])}}});function X(g){return g===1?{direction:"СТРОИТЕЛЬСТВО",applicantType:"Индивидуальный предприниматель",regionOfProvision:"Краснодарский край",specificTags:"БЕТОН"}:g===2?{direction:"ОБРАЗОВАНИЕ",applicantType:"Физическое лицо",regionOfProvision:"Москва",specificTags:"УСЛУГИ"}:{direction:"ОБЕСПЕЧЕНИЕ ЭЛЕКТРИЧЕСКОЙ ЭНЕРГИЕЙ, ГАЗОМ И ПАРОМ; КОНДИЦИОНИРОВАНИЕ ВОЗДУХА",applicantType:"Юридическое лицо",regionOfProvision:"Курганская область",specificTags:"РЕПУТАЦИЯ"}}const G={id:"main-page"},J={id:"user-window"},K={key:0,id:"users"},Q={id:"info-form"},W={class:"search-form"},Y=["href"],Z=O({__name:"main-page",setup(g){const k=h({applicant_types:[],directions:[],venues:[]}),n=h({direction:"СТРОИТЕЛЬСТВО",applicantType:"Индивидуальный предприниматель",regionOfProvision:"Краснодарский край",specificTags:"БЕТОН"}),i=h([{uuid:"52aafc01-3aab-4cfe-a122-7a9a5df80e7c",site:"https://joyreactor.cc/new",title:"Поддержка пожилого бизнеса",description:"Будем подерживать стариков-ветеранов, желающих открыть свой бизнес завтра утром"},{uuid:"a6f81fb1-44fe-4d1d-bb62-b68e66248479",site:"https://habr.com/ru/feed/",title:"Поддержка краснодарского бизнеса",descreiption:"Будем поддерживать ветеранов СВО, которые решили открыть свой бизнес в Краснодаре",region:"Краснодарский край"}]),c=h([]),m=h(!0);function s(p){n.value=X(p)}async function f(p){console.log(p);const e=p?`?specific_request=${p}`:"",b=await(await fetch(`http://81.94.156.218/api/search${e}`)).json();c.value=b}return V(async()=>{try{const e=await(await fetch("http://81.94.156.218/api/get_filters")).json();k.value=e}catch{}}),(p,e)=>{const d=v("a-checkbox"),b=v("a-table");return u(),y("div",G,[a("div",J,[r(d,{checked:m.value,"onUpdate:checked":e[0]||(e[0]=o=>m.value=o)},{default:l(()=>e[8]||(e[8]=[_("Мок пользователи")])),_:1},8,["checked"]),m.value?(u(),y("div",K,[a("div",{class:"user-info",onClick:e[1]||(e[1]=o=>s(1))},e[9]||(e[9]=[a("img",{alt:"Пользователь 1",class:"logo",src:N,width:"100",height:"100"},null,-1),_(" Юзер-1 ")])),a("div",{class:"user-info",onClick:e[2]||(e[2]=o=>s(2))},e[10]||(e[10]=[a("img",{alt:"Пользователь 2",class:"logo",src:R,width:"100",height:"100"},null,-1),_(" Юзер-2 ")])),a("div",{class:"user-info",onClick:e[3]||(e[3]=o=>s(3))},e[11]||(e[11]=[a("img",{alt:"Пользователь 3",class:"logo",src:q,width:"100",height:"100"},null,-1),_(" Юзер-3 ")]))])):P("",!0),e[12]||(e[12]=a("h3",null,"Юзер",-1)),r(w(z),{direction:n.value.direction,"onUpdate:direction":e[4]||(e[4]=o=>n.value.direction=o),"applicant-type":n.value.applicantType,"onUpdate:applicantType":e[5]||(e[5]=o=>n.value.applicantType=o),"region-of-provision":n.value.regionOfProvision,"onUpdate:regionOfProvision":e[6]||(e[6]=o=>n.value.regionOfProvision=o),"specific-tags":n.value.specificTags,"onUpdate:specificTags":e[7]||(e[7]=o=>n.value.specificTags=o),"setting-person-option":k.value},null,8,["direction","applicant-type","region-of-provision","specific-tags","setting-person-option"])]),e[14]||(e[14]=a("div",{class:"stick-vertical"},null,-1)),a("div",Q,[r(w(L),{"find-search-value":c.value,onSearch:f},null,8,["find-search-value"]),a("div",W,[e[13]||(e[13]=a("h3",null," Приходящая информация формируемая из данных о пользователе ",-1)),r(b,{dataSource:i.value,columns:w(U),"row-key":o=>o.key,scroll:{x:800,y:300}},{bodyCell:l(({column:o,record:t})=>[o.key==="url"?(u(),y("a",{key:0,href:t.url,target:"_blank"}," Ссылка ",8,Y)):P("",!0),o.key==="uuid"?(u(),T(w(I),{key:1,id:t.uuid},null,8,["id"])):P("",!0)]),_:1},8,["dataSource","columns","row-key"])])])])}}}),te=B(Z,[["__scopeId","data-v-8de8386a"]]);export{te as default};
